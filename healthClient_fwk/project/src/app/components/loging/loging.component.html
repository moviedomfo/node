<!-- <fieldset ngModelGroup="securityCard" class=""> -->

  <div class="row">
    <div class="col-sm-6">
      <div class="box box-primary">
        <div class="box-header">
          <h3 class="box-title">Login info </h3>
        </div>
  
  
        <div class="box-body">
  
          <div class="form-group">
            <div class="input-group">
              <div class="input-group-addon">
                <i class="fa fa-user-circle"></i>
              </div>
              <input type='text' name='username' class="form-control input-lg" [(ngModel)]='currentUser.UserName' required
                #username='ngModel'>
              <small [hidden]='username.valid || (username.pristine )'>
                Username is required (minimum 5 characters).
              </small>
            </div>
          </div>
          <div class="form-group">
            <label>Password</label>
            <input type='password' name='password' class="form-control" #password="ngModel"
              [(ngModel)]='currentUser.Password' required>
            <small [hidden]='password.valid || (password.pristine )'>
              Password is required
            </small>
          </div>
       
  
        </div>

      </div>
    </div>
    <div class="col-sm-6">
        <br>
        <br>
      <button class="btn btn-danger" type="button" (click)='authenticate()' [disabled]='!password.valid || !username.valid'>Loging</button>
    </div>
  </div>



 
  <a class="btn btn-sm btn-outline-secondary " data-toggle="collapse" href="#collapseSecInfo" role="button" aria-expanded="false" aria-controls="collapseSecInfo">
      Click to view more info
    </a>
   
    <div class="collapse" id="collapseSecInfo">
        


        <div class="row">

            <div class="col-sm-6">
                <div class="card">
                    <div class="card-body">
                      <h5 class="card-title">Current Loging</h5>
                      <p class="card-text">JWT Access Token generated by fwk Authentication web API</p>
                      <a href="https://jwt.io/#debugger" class="btn btn-outline-success btn-sm m4">check jwt here</a>
                
                     
                      <div class="alert alert-warning alert-dismissible fade show" role="alert">
                     
                        <strong> {{currentLogin.oAuth.access_token}}</strong> 
                      </div>
                      
                    
                       <div class="alert alert-primary" role="alert">
                        <strong>username </strong> {{currentLogin.username}}
                      </div>
                          
                   
                    </div>
          
                    <div class="alert alert-primary" role="alert">
                      <strong>jwt decoded to json</strong>
                      {{ jwt_decode | json }}
                    </div>
                   
                
                  </div>
                  </div>
                
                  <div class="col-sm-6">

                      <div *ngIf ="jwt_decode" class="card">
                          <div class="card-body">
                            <h5 class="card-title">Roles</h5>
                            <p class="card-text">Current User Roles</p>
                            
                            <div *ngFor="let role of jwt_decode.role" class="form-check">
                                <label class="form-check-label">
                                  <input type="checkbox" class="form-check-input" type="checkbox" name="{{ role }} " [(ngModel)]="role" [value]="role"> {{ role }}
                                </label>
                              </div>
                          
                          </div>
                      
                  </div>
                
                </div>
                  
                   
                  
            </div>
      </div>

   
<app-error-box-container [globalError]="globalError"></app-error-box-container>